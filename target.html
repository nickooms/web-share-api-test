<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Web Share Target</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css" />
    <link rel="manifest" href="/manifest.json" />
    <script src="/common.js" defer></script>
    <meta name="theme-color" content="#4a148c" />
  </head>
  <body>
    <h1>Web Share Target (v1)</h1>
    <p id="requireHTTPS" class="hidden">
      <b>STOP!</b> This page <b>must</b> be served over HTTPS. Please
      <a>reload this page via HTTPS</a>.
    </p>
    <p>
      The Web Share Target API allows installed web apps to register with the underlying OS as a
      share target to receive shared content from either the Web Share API or system events, like
      the OS-level share button.
    </p>
    <div>
      <b><code>window.location</code>:</b> <code id="href"></code><br />
      <b>Title:</b> <code id="title"></code><br />
      <b>Text:</b> <code id="text"></code><br />
      <b>URL:</b> <code id="url"></code>
    </div>
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const { searchParams } = new URL(location);
        $('#href').textContent = location.href;
        $('#title').textContent = searchParams.get('title');
        $('#text').textContent = searchParams.get('text');
        $('#url').textContent = searchParams.get('url');
      });
    </script>
  </body>
</html>
